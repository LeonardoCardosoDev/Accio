<!DOCTYPE html>
<html lang="pt_br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Accio</title>
    <script src="./js/funcoes.js"></script>
    <script src="js/quizCasas.js"></script>

    <link rel="shortcut icon" href="assets/img_stars.svg" type="image/x-icon" />
    <link rel="stylesheet" href="css/perfil.css" />
    <link rel="stylesheet" href="css/quizCasas.css" />
    <script
      src="https://kit.fontawesome.com/9f7414eb10.js"
      crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="main"></div>

    <section class="section-cont">
      <div class="start" id="cont1">
        <div class="title">
          <div>
            <h2>
              Responda as perguntas a seguir e <br />descubra a casa que
              pertence
            </h2>
          </div>
          <div><h3>Vamos lá?</h3></div>
        </div>

        <div class="cont-btn">
          <button class="custom-btn btn1" onclick="next()">Continuar</button>
        </div>
      </div>

      <div class="questao" id="cont2">
        <div><h2>O que prefere ser?</h2></div>

        <label class="cont-quest">
          <input type="radio" value="20" name="questao" id="qt1_Gr" />
          <label for="qt1_Gr"><h4>Apreciado(a)</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="20" name="questao" id="qt1_Co" />
          <label for="qt1_Co"><h4>Invejado(a)</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="20" name="questao" id="qt1_So" />
          <label for="qt1_So"><h4>Temido(a)</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="20" name="questao" id="qt1_Lu" />
          <label for="qt1_Lu"><h4>Confiável</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="20" name="questao" id="qt1_todas" />
          <label for="qt1_todas"><h4>Elogiado(a)</h4></label>
        </label>

        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next2()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="questao" id="cont3">
        <div><h2>Qual das matérias a seguir você gostaria de estudar?</h2></div>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao2" id="qt2_Gr" />
          <label for="qt2_Gr"><h4>Feitiços</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao2" id="qt2_Co" />
          <label for="qt2_Co"><h4>Astronomia</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao2" id="qt2_So" />
          <label for="qt2_So"><h4>Poçôes</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao2" id="qt2_Lu" />
          <label for="qt2_Lu"><h4>Herbologia</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao2" id="qt2_todas" />
          <label for="qt2_todas"><h4>História da magia</h4></label>
        </label>

        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next3()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="questao" id="cont4">
        <div class="title-quiz">
          <h2>
            Tarde da noite caminhando sozinho(a), você escuta um grito pedindo
            socorro, o que você faz?
          </h2>
        </div>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao3" id="qt3_Gr" />
          <label for="qt3_Gr"><h4>Encara o perigo sem hesitar</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao3" id="qt3_Co" />
          <label for="qt3_Co"
            ><h4>Se esconde, para pensar em quais feitiços usar</h4></label
          >
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao3" id="qt3_So" />
          <label for="qt3_So"
            ><h4>
              Continua seu caminho, preparado(a) para qualquer inimigo a frente
            </h4></label
          >
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao3" id="qt3_Lu" />
          <label for="qt3_Lu"
            ><h4>
              Decide ajudar, tomando cuidado para não ser percebido
            </h4></label
          >
        </label>
        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next4()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="questao" id="cont5">
        <div>
          <h2>Escolha um animal para passar as aulas com você.</h2>
        </div>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao4" id="qt4_Gr" />
          <label for="qt4_Gr"><h4>Gato</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao4" id="qt4_Co" />
          <label for="qt4_Co"><h4>Coelho</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao4" id="qt4_So" />
          <label for="qt4_So"><h4>Sapo</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao4" id="qt4_Lu" />
          <label for="qt4_Lu"><h4>Rato</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="10" name="questao4" id="qt4_todas" />
          <label for="qt4_todas"><h4>Coruja</h4></label>
        </label>

        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next5()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="questao" id="cont6">
        <div>
          <h2>Com qual dos valores a baixo você se identifica?</h2>
        </div>

        <label class="cont-quest">
          <input type="radio" value="30" name="questao5" id="qt5_Gr" />
          <label for="qt5_Gr"><h4>Coragem</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="30" name="questao5" id="qt5_Co" />
          <label for="qt5_Co"><h4>Sabedoria</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="30" name="questao5" id="qt5_So" />
          <label for="qt5_So"><h4>Ambição</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="30" name="questao5" id="qt5_Lu" />
          <label for="qt5_Lu"><h4>Cordialidade</h4></label>
        </label>

        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next6()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="casa" id="Grifinoria" onclick="alterar()">
        <div class="img-casa">
          <img src="assets/img_grifinoria.svg" alt="" />
        </div>
        <div class="title-casa" id="mensagemCasa">Grifinoria</div>
      </div>

      <div class="casa" id="Sonserina" onclick="alterar()">
        <div class="img-casa">
          <img src="assets/img_sonserina.svg" alt="" />
        </div>
        <div class="title-casa" id="mensagemCasa">Sonserina</div>
      </div>

      <div class="casa" id="Corvinal" onclick="alterar()">
        <div class="img-casa">
          <img src="assets/img_corvinal.svg" alt="" />
        </div>
        <div class="title-casa" id="mensagemCasa">Corvinal</div>
      </div>

      <div class="casa" id="Lufalufa" onclick="alterar()">
        <div class="img-casa">
          <img src="assets/img_lufalufa.svg" alt="" />
        </div>
        <div class="title-casa" id="mensagemCasa">Lufa-Lufa</div>
      </div>
    </section>
  </body>
</html>
<script>
  var id = sessionStorage.ID_USUARIO;
  var fkCasa = 0;

  function alterar(params) {
    if (indeceVencedora == 0) {
      fkCasa = 2;
    }
    if (indeceVencedora == 1) {
      fkCasa = 3;
    }
    if (indeceVencedora == 2) {
      fkCasa = 4;
    }
    if (indeceVencedora == 3) {
      fkCasa = 5;
    }

    fetch("/usuarios/alterar", {
      method: "PUT",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/usuario.js
        casaServer: fkCasa,
        idServer: id,
      }),
    });
    setTimeout(function () {
      if (fkCasa == 2) {
        window.location = "./casas/grifinoria.html";
      } else if (fkCasa == 3) {
        window.location = "./casas/sonserina.html";
      } else if (fkCasa == 4) {
        window.location = "./casas/corvinal.html";
      } else {
        window.location = "./casas/lufa-lufa.html";
      }
    }, 100);
  }
</script>

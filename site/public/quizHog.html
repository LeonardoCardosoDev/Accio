<!DOCTYPE html>
<html lang="pt_br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Accio</title>
    <script src="./js/funcoes.js"></script>
    <script src="js/quizHog.js"></script>

    <link rel="shortcut icon" href="assets/img_stars.svg" type="image/x-icon" />
    <link rel="stylesheet" href="css/perfil.css" />
    <link rel="stylesheet" href="css/quizCasas.css" />
    <script
      src="https://kit.fontawesome.com/9f7414eb10.js"
      crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="main"></div>

    <section class="section-cont">
      <div class="start" id="cont1">
        <div class="title">
          <div>
            <h2>
              Responda as perguntas a seguir e <br />teste seu conhecimento do
              mundo de Harry Potter
            </h2>
          </div>
          <div><h3>Vamos lá?</h3></div>
        </div>

        <div class="cont-btn">
          <button class="custom-btn btn1" onclick="next()">Continuar</button>
        </div>
      </div>

      <div class="questao" id="cont2">
        <div class="title-quiz">
          <h2>
            Qual Relíquia da Morte foi entregue a Harry no seu primeiro ano em
            Hogwarts?
          </h2>
        </div>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao" id="errada1" />
          <label for="errada1"><h4>Pomo de ouro</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="50" name="questao" id="certa1" />
          <label for="certa1"><h4>Capa da invisibilidade</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao" id="errada2" />
          <label for="errada2"><h4>Pedra da ressurreição</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao" id="errada3" />
          <label for="errada3"><h4>Varinha das varinhas</h4></label>
        </label>

        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next2()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="questao" id="cont3">
        <div>
          <h2>
            A Horcrux que estava na Taça da Lufa-Lufa é destruída na Câmara
            Secreta.
          </h2>
        </div>

        <label class="cont-quest">
          <input type="radio" value="20" name="questao2" id="certa" />
          <label for="certa"><h4>Verdadeiro</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao2" id="errado" />
          <label for="errado"><h4>Falso</h4></label>
        </label>

        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next3()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="questao" id="cont4">
        <div class="title-quiz">
          <h2>
            Quantas escolas participaram do torneio realizado no quarto ano
            letivo de Harry Potter?
          </h2>
        </div>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao3" id="errado1_qt3" />
          <label for="errado1_qt3"><h4>2</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="20" name="questao3" id="certa_qt3" />
          <label for="certa_qt3"><h4>3</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao3" id="errado2_qt3" />
          <label for="errado2_qt3"><h4>4</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao3" id="errado3_qt3" />
          <label for="errado3_qt3"><h4>5</h4></label>
        </label>
        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next4()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="questao" id="cont5">
        <div>
          <h2 class="title-quiz">
            A Professora Trelawney fez apenas uma previsão correta durante em
            toda a sua vida.
          </h2>
        </div>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao4" id="Errada_qt4" />
          <label for="Errada_qt4"><h4>Verdadeiro</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="5" name="questao4" id="Certa_qtd4" />
          <label for="Certa_qtd4"><h4>Falso</h4></label>
        </label>

        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next5()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="questao" id="cont6">
        <div>
          <h2>
            Qual é o nome do Elfo-doméstico em que Harry Potter ajudou a ter
            liberdade?
          </h2>
        </div>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao5" id="Errada2_qt5" />
          <label for="Errada2_qt5"><h4>Tobby</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="0" name="questao5" id="Errada_qt5" />
          <label for="Errada_qt5"><h4>Alef</h4></label>
        </label>

        <label class="cont-quest">
          <input type="radio" value="5" name="questao5" id="Certa_qt5" />
          <label for="Certa_qt5"><h4>Dobby</h4></label>
        </label>

        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="next6()">
            Confirmar
          </button>
        </div>
      </div>

      <div class="questao" id="cont7" style="display: none">
        <div style="text-align: center">
          <h2>
            Sua pontuação: <br />
            <div id="pontuacao_div"></div>
          </h2>
        </div>

        <div class="cont-btn btn-quiz">
          <button class="custom-btn btn1 font-btn" onclick="enviarPontos()">
            Confirmar
          </button>
        </div>
      </div>
    </section>
  </body>
</html>
<script>
  var id = sessionStorage.ID_USUARIO;
  sessionStorage.FKCASA_USUARIO;
  console.log(id);
  console.log(sessionStorage.FKCASA_USUARIO);

  sessionStorage.PONTO_USUARIO = somaAcerto;
  function enviarPontos(params) {
    sessionStorage.FKCASA_USUARIO;
    sessionStorage.PONTO_USUARIO = somaAcerto;
    console.log(somaAcerto);
    fetch("/usuarios/pontuar", {
      method: "PUT",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/usuario.js
        pontoServer: somaAcerto,
        idServer: id,
      }),
    });

    setTimeout(function () {
      if (sessionStorage.FKCASA_USUARIO == 2) {
        window.location = "./casas/grifinoria.html";
      } else if (sessionStorage.FKCASA_USUARIO == 3) {
        window.location = "./casas/sonserina.html";
      } else if (sessionStorage.FKCASA_USUARIO == 4) {
        window.location = "./casas/corvinal.html";
      } else {
        window.location = "./casas/lufa-lufa.html";
      }
    }, 100);
  }
</script>
